# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞!

**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–æ–∫–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è, –Ω–æ API –≤—Å–µ —Ä–∞–≤–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401 Unauthorized

## üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤** (`src/api/client.ts`):
```typescript
// –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
const savedToken = localStorage.getItem("accessToken");
console.log('API: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω:', savedToken ? '—Å–æ—Ö—Ä–∞–Ω–µ–Ω' : '–Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω');

// –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –±—É–¥—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
api.defaults.headers.common['Authorization'] = `Bearer ${accessToken}`;

// –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
console.log('API: –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:', originalRequest.headers.Authorization);
```

### 2. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º** (`src/api/resources.ts`):
```typescript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–∫–µ–Ω –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º
const token = localStorage.getItem("accessToken");
console.log('API: –¢–æ–∫–µ–Ω –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º:', token ? '–µ—Å—Ç—å' : '–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç');
if (token) {
  try {
    const payload = JSON.parse(atob(token.split('.')[1]));
    console.log('API: –¢–æ–∫–µ–Ω payload:', payload);
    console.log('API: –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫–∞–µ—Ç:', new Date(payload.exp * 1000));
    console.log('API: –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è:', new Date());
    console.log('API: –¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω:', payload.exp * 1000 > Date.now());
  } catch (e) {
    console.log('API: –û—à–∏–±–∫–∞ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞:', e);
  }
}
```

### 3. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö endpoint'–æ–≤**:
```typescript
// –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã endpoint'–æ–≤
const endpoints = ["/resources", "/api/resources", "/v1/resources"];

for (const endpoint of endpoints) {
  try {
    console.log(`API: –ü—Ä–æ–±—É–µ–º endpoint: ${endpoint}`);
    const response = await api.get(endpoint);
    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞
    return resources;
  } catch (error) {
    console.log(`API: –û—à–∏–±–∫–∞ –¥–ª—è endpoint ${endpoint}:`, (error as any)?.response?.status);
    // –ü—Ä–æ–±—É–µ–º —Å–ª–µ–¥—É—é—â–∏–π endpoint
  }
}
```

### 4. **–£–ª—É—á—à–µ–Ω–∞ –æ—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤**:
```typescript
console.log('API: –ù–æ–≤—ã–π access —Ç–æ–∫–µ–Ω:', accessToken ? '–ø–æ–ª—É—á–µ–Ω' : '–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç');
console.log('API: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω:', savedToken ? '—Å–æ—Ö—Ä–∞–Ω–µ–Ω' : '–Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω');
console.log('API: –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:', originalRequest.headers.Authorization);
```

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### 1. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)**

### 2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ú–æ–∏ —Ä–µ—Å—É—Ä—Å—ã"**

### 3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Ç–æ–∫–µ–Ω–∞:**
```
API: –¢–æ–∫–µ–Ω –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º: –µ—Å—Ç—å
API: –¢–æ–∫–µ–Ω payload: {sub: "123", exp: 1234567890, ...}
API: –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫–∞–µ—Ç: Mon Jan 01 2024 12:00:00 GMT+0000
API: –¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è: Mon Jan 01 2024 11:00:00 GMT+0000
API: –¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω: true
```

### 4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞:**
```
API: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫—É 401, –ø—ã—Ç–∞–µ–º—Å—è –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω
API: Refresh —Ç–æ–∫–µ–Ω: –µ—Å—Ç—å
API: –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
API: –¢–æ–∫–µ–Ω—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
API: –ù–æ–≤—ã–π access —Ç–æ–∫–µ–Ω: –ø–æ–ª—É—á–µ–Ω
API: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω: —Å–æ—Ö—Ä–∞–Ω–µ–Ω
API: –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏: Bearer eyJhbGciOiJIUzI1NiIs...
```

### 5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ endpoint'–æ–≤:**
```
API: –ü—Ä–æ–±—É–µ–º endpoint: /resources
API: –û—à–∏–±–∫–∞ –¥–ª—è endpoint /resources: 401
API: –ü—Ä–æ–±—É–µ–º endpoint: /api/resources
API: –û—à–∏–±–∫–∞ –¥–ª—è endpoint /api/resources: 401
API: –ü—Ä–æ–±—É–µ–º endpoint: /v1/resources
API: –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç: 200 /v1/resources
```

## üéØ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã:

### 1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint**
- –†–µ—à–µ–Ω–∏–µ: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø—Ä–æ–±—É–µ—Ç —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã

### 2. **–ü—Ä–æ–±–ª–µ–º—ã —Å —Ñ–æ—Ä–º–∞—Ç–æ–º —Ç–æ–∫–µ–Ω–∞**
- –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞

### 3. **–¢–æ–∫–µ–Ω –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –∑–∞–ø—Ä–æ—Å—É**
- –†–µ—à–µ–Ω–∏–µ: –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### 4. **–ü—Ä–æ–±–ª–µ–º—ã —Å API —Å–µ—Ä–≤–µ—Ä–æ–º**
- –†–µ—à–µ–Ω–∏–µ: –ü–æ–¥—Ä–æ–±–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞ –ø–æ–º–æ–∂–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç:

- ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤** - –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ endpoint** - —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ø—Ä–æ–±—É–µ—Ç —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞** - –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º
- ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏
- ‚úÖ **–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç** - http://localhost:3000/

## üöÄ –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤!

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∏ –Ω–∞–π–¥–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint –¥–ª—è API.** üéâ
